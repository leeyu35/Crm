webpackJsonp([29],{640:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='\r\n<div class="col-xs-4 trends">\r\n    <div class="col-xs-2 inx" style="padding: 0;height: 30px;line-height: 30px;">\r\n    </div>\r\n    <div class="col-xs-9" style="padding: 0;">\r\n        <input type="text" class="date1 dp form-control" placeholder="2017-01-01" />\r\n    </div>\r\n    <div class="col-xs-1" style="padding: 0;height: 30px;line-height: 30px;">\r\n        <i class="iconfont del">&#xe63d;</i>\r\n    </div>\r\n\r\n</div>';return __p}},643:function(t,e){},0:function(t,e,a){(function(t){"use strict";function e(e,a){m=[];for(var n=t("#page-wrapper").find(".trends").length,l=0;l<n;l++)t(".trends").eq(l).find(".inx").text(l+1);t(".trends").each(function(){var n=t(this).find(".dp").val(),l=t(".time1").val()+":00",i=t(".time2").val()+":00",r=n+" "+l,o=n+" "+i;f.ajaxAsync(v.getApiUrl("getTime"),{appid:b.appid,date1:r,date2:o,type:e,planid:a}).done(function(t){m.push(t)})})}function n(t,e,a,n){var l=h.init(document.getElementById(t)),i={tooltip:{trigger:"axis",formatter:function(t){var e="";try{for(var a=0;a<t.length;a++)t[a].data&&(e+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+t[a].color+'"></span>'+t[a].data.name+"："+t[a].data.value+"<br/>")}catch(t){console.log(t)}return e}},grid:{left:"10%",width:"80%",height:120,top:20},legend:{x:"right",orient:"horizontal",data:e},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,data:a,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#3b4e61",fontSize:14}}}],yAxis:[{type:"value",position:"left",splitNumber:5,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#3b4e61",fontSize:14}},splitLine:{show:!0,lineStyle:{color:"#dfe1e4",type:"solid",width:1}}}],series:n};l.setOption(i),window.addEventListener("resize",function(){l.resize()},!1)}function l(t,e,a){t.push({name:e,type:"line",line:"总量",data:a,symbol:"circle",symbolSize:4,smooth:!0,itemStyle:{normal:{lineStyle:{width:2}},emphasis:{label:{show:!1}}}})}function i(e,a,i){console.log(a),t("#dian").val("无");var r=(a[0].length,[]),o=[],d=[],c=[],h=[],p=[],_=[],u=[],v=[],m=[],b=[],x=[];t(".tb").html(""),t(".trends").each(function(){var e=t(this).find(".dp").val();x.push(e)});try{for(var y=0;y<a.length;y++)for(var w=0;w<a[y].length;w++)a[y][w].dateTime1=f.dateFormat(a[y][w].dateTime,"yyyy-MM-dd hh:mm:ss"),a[y][w].dateTime=f.dateFormat(a[y][w].dateTime,"MM-dd hh:mm"),a[y][w].dian=f.dateFormat(a[y][w].dateTime,"hh"),a[y][w].cpc=a[y][w].cpc?a[y][w].cpc.toFixed(2):0,a[y][w].clickCount=a[y][w].clickCount?a[y][w].clickCount:0,a[y][w].showCount=a[y][w].showCount?a[y][w].showCount:0,a[y][w].spend=a[y][w].spend?a[y][w].spend:0,a[y][w].cpd=a[y][w].cpd?a[y][w].cpd.toFixed(2):0,a[y][w].download_total=a[y][w].download_total?a[y][w].download_total:0,a[y][w].api_count=a[y][w].api_count?a[y][w].api_count:0}catch(t){console.log(t.name+": "+t.message)}if(1==a.length)for(var k=0;k<a[0].length;k++)r.push(f.dateFormat(a[0][k].dateTime,"hh"));else for(var j=0;j<a[1].length;j++)r.push(f.dateFormat(a[1][j].dateTime,"hh"));g=a,t(".tb").html(s({data:a})),t("#jiahua_table").tablesorter(),t(".all_active").editable();for(var C=0;C<a.length;C++)switch(e){case"cpc":o=[];for(var T=0;T<a[C].length;T++)o.push({value:a[C][T].cpc,name:a[C][T].dateTime});l(u,x[C],o);break;case"展现":d=[];for(var S=0;S<a[C].length;S++)d.push({value:a[C][S].showCount,name:a[C][S].dateTime});l(u,x[C],d);break;case"点击":c=[];for(var F=0;F<a[C].length;F++)c.push({value:a[C][F].clickCount,name:a[C][F].dateTime});l(u,x[C],c);break;case"消费":h=[];for(var A=0;A<a[C].length;A++)h.push({value:a[C][A].spend,name:a[C][A].dateTime});l(u,x[C],h);break;case"激活":p=[];for(var D=0;D<a[C].length;D++)p.push({value:a[C][D].active,name:a[C][D].dateTime});l(u,x[C],p);break;case"激活成本":_=[];for(var P=0;P<a[C].length;P++)_.push({value:a[C][P].active_chengben,name:a[C][P].dateTime});l(u,x[C],_);break;case"cpd":v=[];for(var z=0;z<a[C].length;z++)v.push({value:a[C][z].cpd,name:a[C][z].dateTime});l(u,x[C],v);break;case"总下载":b=[];for(var I=0;I<a[C].length;I++)b.push({value:a[C][I].download_total,name:a[C][I].dateTime});l(u,x[C],b);break;case"API余额":m=[];for(var M=0;M<a[C].length;M++)m.push({value:a[C][M].api_count,name:a[C][M].dateTime});l(u,x[C],m)}n(i,x,r,u)}function r(e,a,i){console.log(a),t("#dian1").val("无");var r=(a[0].length,[]),o=[],d=[],s=[],h=[],p=[],_=[],u=[],v=[],m=[],b=[],x=[],y=[],w=[],k=[];t(".tb1").html(""),t(".trends").each(function(){var e=t(this).find(".dp").val();k.push(e)});try{for(var j=0;j<a.length;j++)for(var C=0;C<a[j].length;C++)a[j][C].dateTime1=f.dateFormat(a[j][C].dateTime,"yyyy-MM-dd hh:mm:ss"),a[j][C].dateTime=f.dateFormat(a[j][C].dateTime,"MM-dd hh:mm"),a[j][C].dian=f.dateFormat(a[j][C].dateTime,"hh"),a[j][C].cpc=a[j][C].cpc?a[j][C].cpc.toFixed(2):0,a[j][C].clickCount=a[j][C].clickCount?a[j][C].clickCount:0,a[j][C].showCount=a[j][C].showCount?a[j][C].showCount:0,a[j][C].spend=a[j][C].spend?a[j][C].spend:0,a[j][C].total_btnClickCount=a[j][C].total_btnClickCount?a[j][C].total_btnClickCount:0,a[j][C].total_btnShowCount=a[j][C].total_btnShowCount?a[j][C].total_btnShowCount:0,a[j][C].total_btnSpend=a[j][C].total_btnSpend?a[j][C].total_btnSpend:0,a[j][C].cpd=a[j][C].cpd?a[j][C].cpd.toFixed(2):0,a[j][C].download_total=a[j][C].download_total?a[j][C].download_total:0,a[j][C].api_count=a[j][C].api_count?a[j][C].api_count:0}catch(t){console.log(t.name+": "+t.message)}if(1==a.length)for(var T=0;T<a[0].length;T++)r.push(f.dateFormat(a[0][T].dateTime,"hh"));else for(var S=0;S<a[1].length;S++)r.push(f.dateFormat(a[1][S].dateTime,"hh"));g=a,t(".tb1").html(c({data:a})),t("#zonglan_table").tablesorter(),t(".all_active1").editable();for(var F=0;F<a.length;F++)switch(e){case"cpc":o=[];for(var A=0;A<a[F].length;A++)o.push({value:a[F][A].cpc,name:a[F][A].dateTime});l(b,k[F],o);break;case"展现":d=[];for(var D=0;D<a[F].length;D++)d.push({value:a[F][D].showCount,name:a[F][D].dateTime});l(b,k[F],d);break;case"点击":s=[];for(var P=0;P<a[F].length;P++)s.push({value:a[F][P].clickCount,name:a[F][P].dateTime});l(b,k[F],s);break;case"消费":h=[];for(var z=0;z<a[F].length;z++)h.push({value:a[F][z].spend,name:a[F][z].dateTime});l(b,k[F],h);break;case"激活":p=[];for(var I=0;I<a[F].length;I++)p.push({value:a[F][I].active,name:a[F][I].dateTime});l(b,k[F],p);break;case"按钮点击":u=[];for(var M=0;M<a[F].length;M++)u.push({value:a[F][M].total_btnClickCount,name:a[F][M].dateTime});l(b,k[F],u);break;case"激活成本":_=[];for(var U=0;U<a[F].length;U++)_.push({value:a[F][U].active_chengben,name:a[F][U].dateTime});l(b,k[F],_);break;case"按钮展现":v=[];for(var L=0;L<a[F].length;L++)v.push({value:a[F][L].total_btnShowCount,name:a[F][L].dateTime});l(b,k[F],v);break;case"按钮消费":m=[];for(var N=0;N<a[F].length;N++)m.push({value:a[F][N].total_btnSpend,name:a[F][N].dateTime});l(b,k[F],m);break;case"cpd":x=[];for(var E=0;E<a[F].length;E++)x.push({value:a[F][E].cpd,name:a[F][E].dateTime});l(b,k[F],x);break;case"总下载":y=[];for(var G=0;G<a[F].length;G++)y.push({value:a[F][G].download_total,name:a[F][G].dateTime});l(b,k[F],y);break;case"API余额":w=[];for(var H=0;H<a[F].length;H++)w.push({value:a[F][H].api_count,name:a[F][H].dateTime});l(b,k[F],w)}n(i,k,r,b)}function o(e){var a=parseInt(t(".time1").find("option:selected").attr("title")),n=parseInt(t(".time2").find("option:selected").attr("title")),l="";l+='<option selected="selected" value="全部">全部</option>';for(var i=a;i<=n;i++)l+=i<10?'<option value="0'+i+'">0'+i+"</option>":'<option value="'+i+'">'+i+"</option>";t(e).html(l)}a(85);var d=a(640),s=a(641),c=a(642);a(251);var h=a(252);a(351),a(361),a(395),a(399),a(400),a(238),a(406),a(643),a(243),a(417),a(422),a(499);var p=a(500),_=a(116),u=a(191),f=a(117),v=a(199),m=[],g=void 0,b=u.getCurrentAccount();window.moment=p,p.locale("zh-cn"),a(611),_.on("account_change",function(){b=u.getCurrentAccount(),window.location.reload()}),t(function(){var a=f.dateFormat(f.getDateStr(-1),"yyyy-MM-dd");t(".time1,.time2").change(function(){switch(t(".nav-li>.clink").text()){case"本户":e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12");break;case"计划":e("plan",t(".time4").val()),r(t(".time5").val(),m,"d2")}o("#dian"),o("#dian1")}),o("#dian"),o("#dian1"),t("#dian").change(function(){var e=[];if("全部"==t(this).val())e=g;else for(var a=0;a<g.length;a++){e[a]=[];for(var n=0;n<g[a].length;n++)t(this).val()==g[a][n].dian&&e[a].push(g[a][n])}t(".tb").html(s({data:e})),t("#jiahua_table").tablesorter(),t(".all_active").editable(),console.log(e)}),t("#dian1").change(function(){var e=[];if("全部"!=t(this).val())for(var a=0;a<g.length;a++){e[a]=[];for(var n=0;n<g[a].length;n++)t(this).val()==g[a][n].dian&&e[a].push(g[a][n])}else e=g;t(".tb1").html(c({data:e})),t("#zonglan_table").tablesorter(),t(".all_active1").editable(),console.log(e)});var n=1,l=1,h=1;t(".pull1").click(function(){1==n?(n=0,t(".pull1 .wen").css("transform","rotate(180deg)"),t(".drag1").slideUp()):(n=1,t(".pull1 .wen").css("transform","rotate(0deg)"),t(".drag1").slideDown())}),t(".pull2").click(function(){1==l?(l=0,t(".pull2 .wen").css("transform","rotate(180deg)"),t(".drag2").slideUp()):(l=1,t(".pull2 .wen").css("transform","rotate(0deg)"),t(".drag2").slideDown())}),t(".pull3").click(function(){1==h?(h=0,t(".pull3 .wen").css("transform","rotate(180deg)"),t(".drag3").slideUp()):(h=1,t(".pull3 .wen").css("transform","rotate(0deg)"),t(".drag3").slideDown())}),f.ajaxAsync(v.getApiUrl("getGPlan"),{appid:b.appid,date:a}).done(function(e){for(var a="",n=0;n<e.length;n++)a+='<option value="'+e[n].campaignId+'">'+e[n].campaignName+"</option>";t(".time4").html(a)}),t(".nav-li span").click(function(){t(this).addClass("clink"),t(this).siblings().removeClass("clink")}),t(".li1").click(function(){t(".tol").show(),t(".tol1").hide(),e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12")}),t(".li2").click(function(){t(".tol").hide(),t(".tol1").show(),e("plan",t(".time4").val()),console.log(m),r(t(".time5").val(),m,"d2"),r(t(".time51").val(),m,"d21"),r(t(".time52").val(),m,"d22")}),t(".date1").attr("value",f.getDateStr(-1)),t(".n1").attr("value",f.getDateStr(0)),t(".n2").attr("value",f.getDateStr(-1)),t(".dp").daterangepicker({singleDatePicker:!0},function(a,n,l){switch(t(".nav-li>.clink").text()){case"本户":e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12");break;case"计划":e("plan",t(".time4").val()),r(t(".time5").val(),m,"d2")}}),e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12"),t(document).on("click",".del",function(){switch(t(this).parent().parent().remove(),t(".nav-li>.clink").text()){case"本户":e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12");break;case"计划":e("plan",t(".time4").val()),r(t(".time5").val(),m,"d2")}}),t(".tj").click(function(){switch(t(".trends-all").append(d()),t(".date1").attr("value",f.getDateStr(-1)),t(".n1").attr("value",f.getDateStr(0)),t(".dp").daterangepicker({singleDatePicker:!0},function(a,n,l){switch(t(".nav-li>.clink").text()){case"本户":e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12");break;case"计划":e("plan",t(".time4").val()),r(t(".time5").val(),m,"d2")}}),t(".nav-li>.clink").text()){case"本户":e("all",""),console.log(m),i(t(".time3").val(),m,"d1"),i(t(".time31").val(),m,"d11"),i(t(".time32").val(),m,"d12");break;case"计划":e("plan",t(".time4").val()),r(t(".time5").val(),m,"d2")}}),t(".time3").change(function(){i(t(this).val(),m,"d1")}),t(".time31").change(function(){i(t(this).val(),m,"d11")}),t(".time32").change(function(){i(t(this).val(),m,"d12")}),t(document).on("change",".time4",function(){console.log(t(this).val()),e("plan",t(this).val()),console.log(m),r(t(".time5").val(),m)}),t(".time5").change(function(){r(t(this).val(),m)}),t(document).on("click",".tijiao",function(){if("td_active"==t(this).parents("td").attr("class").toString()){var e=t(this).parents("td"),a=e.data("time"),n=e.data("spend"),l=parseFloat(e.find(".editable-input").find("input").val());""==l||0==l?t(this).parents("td").siblings(".activecb").text("0"):t(this).parents("td").siblings(".activecb").text((n/l).toFixed(2)),f.ajax(v.getApiUrl("setHour"),{appid:b.appid,type:"all",date:a,active:l,planid:""}).done(function(t){console.log(t)})}else if("td_active1"==t(this).parents("td").attr("class").toString()){var i=t(this).parents("td"),r=i.data("time"),o=i.data("role"),d=i.data("spend"),s=parseFloat(i.find(".editable-input").find("input").val());""==s||0==s?t(this).parents("td").siblings(".activecb").text("0"):t(this).parents("td").siblings(".activecb").text((d/s).toFixed(2)),f.ajax(v.getApiUrl("setHour"),{appid:b.appid,type:"all",date:r,active:s,planid:o}).done(function(t){console.log(t)})}})})}).call(e,a(83))},641:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<div>\r\n    <table class="tablesorter table table-bordered" id="jiahua_table">\r\n        <thead>\r\n        <tr>\r\n            <th style="border-right: 1px solid #fff;border-top-left-radius:5px;border-left: 0;">时间</th>\r\n            <th style="border-right: 1px solid #fff;">时间点</th>\r\n            <th style="border-right: 1px solid #fff;">展现</th>\r\n            <th style="border-right: 1px solid #fff;">点击</th>\r\n            <th style="border-right: 1px solid #fff;">消费</th>\r\n            <th style="border-right: 1px solid #fff;">总下载</th>\r\n            <th style="border-right: 1px solid #fff;">CPD</th>\r\n            <th style="border-right: 1px solid #fff;">激活</th>\r\n            <th style="border-right: 1px solid #fff;">激活成本</th>\r\n            <th style="border-right: 1px solid #fff;">CPC</th>\r\n            <th>API余额</th>\r\n            <th style="width: 17px;border-top-right-radius:5px;border-right: 0;"></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody class="list">\r\n        ';for(var i in data){__p+="\r\n        ";for(var j in data[i])__p+="\r\n        <tr>\r\n            <td>"+(null==(__t=data[i][j].dateTime)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].dian)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].showCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].clickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].spend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].download_total)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpd)?"":__t)+'</td>\r\n            <td data-time="'+(null==(__t=data[i][j].dateTime1)?"":__t)+'" data-spend="'+(null==(__t=data[i][j].total_spend)?"":__t)+'" class="td_active"><a href="#" class="all_active" data-type="text">'+(null==(__t=data[i][j].active)?"":__t)+'</a></td>\r\n            <td class="activecb">'+(null==(__t=data[i][j].active_chengben)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpc)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].api_count)?"":__t)+"</td>\r\n        </tr>\r\n        ";__p+="\r\n        "}__p+="\r\n        </tbody>\r\n    </table>\r\n</div>\r\n"}return __p}},642:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<div>\r\n    <table class="tablesorter table table-bordered" id="zonglan_table">\r\n        <thead>\r\n        <tr>\r\n            <th style="border-right: 1px solid #fff;border-top-left-radius:5px;border-left: 0;">时间</th>\r\n            <th style="border-right: 1px solid #fff;">时间点</th>\r\n            <th style="border-right: 1px solid #fff;">Name</th>\r\n            <th style="border-right: 1px solid #fff;">激活</th>\r\n            <th style="border-right: 1px solid #fff;">激活成本</th>\r\n            <th style="border-right: 1px solid #fff;">CPC</th>\r\n            <th style="border-right: 1px solid #fff;">API余额</th>\r\n            <th style="border-right: 1px solid #fff;">点击</th>\r\n            <th style="border-right: 1px solid #fff;">展现</th>\r\n            <th style="border-right: 1px solid #fff;">消费</th>\r\n            <th style="border-right: 1px solid #fff;">按钮点击</th>\r\n            <th style="border-right: 1px solid #fff;">按钮展现</th>\r\n            <th style="border-right: 1px solid #fff;">按钮消费</th>\r\n            <th style="border-right: 1px solid #fff;">CPD</th>\r\n            <th>总下载</th>\r\n            <th style="width: 17px;border-top-right-radius:5px;border-right: 0;"></th>\r\n        </tr>\r\n        </thead>\r\n        <tbody class="list">\r\n        ';for(var i in data){__p+="\r\n        ";for(var j in data[i])__p+="\r\n        <tr>\r\n            <td>"+(null==(__t=data[i][j].dateTime)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].dian)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].name)?"":__t)+'</td>\r\n            <td data-role="'+(null==(__t=data[i][j].planId)?"":__t)+'" data-time="'+(null==(__t=data[i][j].dateTime1)?"":__t)+'"  data-spend="'+(null==(__t=data[i][j].total_spend)?"":__t)+'" class="td_active1"><a href="#" class="all_active1" data-type="text">'+(null==(__t=data[i][j].active)?"":__t)+'</a></td>\r\n            <td class="activecb">'+(null==(__t=data[i][j].active_chengben)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpc)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].api_count)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].clickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].showCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].spend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnClickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnShowCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnSpend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpd)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].download_total)?"":__t)+"</td>\r\n        </tr>\r\n        ";__p+="\r\n        "}__p+="\r\n        </tbody>\r\n    </table>\r\n</div>\r\n"}return __p}}});