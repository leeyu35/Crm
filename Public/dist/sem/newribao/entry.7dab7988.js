webpackJsonp([18],{487:function(a,t){},0:function(a,t,s){(function(a){"use strict";function t(t){var s=[];if("全部"==t)for(var n=0;n<r.length;n++)s.push(r[n]);else if("ALL"==t)for(var l=0;l<r.length;l++)"all"==r[l].device&&s.push(r[l]);else if("安卓"==t)for(var e=0;e<r.length;e++)"android"==r[e].device&&s.push(r[e]);else if("IOS"==t)for(var c=0;c<r.length;c++)"ios"==r[c].device&&s.push(r[c]);a(".tmp").html(i({data:s})),a("#table1").tablesorter();var d={valueNames:["time","down_sum","active_sum","liu_cun","down_rate","active_rate","active_true_rate","down_cb","active_cb","some_cost","view","pv","pv_rate","pv_dan","page_active","btn_active","some_remainder","re_point","shuoming","xitong","acsum","liucun_rate","liucun_cb"]};new List("users",d);a(".tou_liu").editable(),a(".beizhu").editable(),a(".liucun1").editable(),a(".page_active1").editable(),a(".btn_active1").editable(),a(".re_point1").editable(),a(".remark1").editable(),a(".ji_pageactive1").editable(),a(".zk").text("展开"),v=1}function n(t,s,n,l){o.ajax(p.getApiUrl("getRiBao"),{zhe:t,appid:s,edate:n,sdate:l}).done(function(t){console.log(t),r=t[0],a(".tmp").html(i({data:t[0]})),a("#table1").tablesorter();for(var s={valueNames:["time","xitong","acsum","down_sum","active_sum","liu_cun","down_rate","active_rate","active_true_rate","liucun_rate","down_cb","active_cb","liucun_cb","some_cost","view","pv","pv_rate","pv_dan","page_active","btn_active","some_remainder","re_point","shuoming"]},n=(new List("users",s),[]),l=0;l<t[1].length;l++)for(var c=0;c<t[1][l].length;c++)n.push(t[1][l][c]);console.log(n),a(".tmp1").html(e({data:n})),a("#table2").tablesorter();var d={listClass:"list1",sortClass:"sort1",searchClass:"search1",valueNames:["date","qudao","tui_jihua","ji_cost","ji_view","ji_pv","ji_pvrate","ji_pvdan","ji_btnview","ji_btnpv","ji_btncost","ji_btnviewb","ji_btncostb","ji_pagecost","ji_pageactive","ji_pageactivecb","ji_btnactive","ji_btnactivecb","ji_active","ji_activecb","remark"]};new List("users2",d);a(".tou_liu").editable(),a(".beizhu").editable(),a(".liucun1").editable(),a(".page_active1").editable(),a(".btn_active1").editable(),a(".re_point1").editable(),a(".remark1").editable(),a(".ji_pageactive1").editable()})}function l(a,t,s,n,l){o.ajaxPost(p.getApiUrl("getP"),{appid:u.appid,date:a,type:t,active:s,jihuaid:n,active_all:l}).done(function(a){console.log(a)})}s(85);var i=s(485),e=s(486);s(251),s(243),s(244),s(417);var c=s(186);s(188),s(238),s(406),s(422),s(487);var d=s(116),_=s(191),o=s(117),p=s(199),r=void 0,v=1,u=_.getCurrentAccount();d.on("account_change",function(){u=_.getCurrentAccount();var t=a("#date1").val().split("/"),s=a("#date2").val().split("/"),l=t[2]+"-"+t[0]+"-"+t[1],i=s[2]+"-"+s[0]+"-"+s[1];n("",u.appid,i,l)}),a(function(){a(".filter1 button").click(function(){t(a(this).text())}),a(".appid1").val(u.appid),a("#myForm").submit(function(t){var s=a("#inputfile").val();if(s){var n=new FormData(a(this)[0]);console.log(n),o.ajaxFormFile(p.getApiUrl("UpActive"),n).done(function(a){console.log(a),window.location.reload()})}else c.error("没有上传文件","上传失败");t.preventDefault()}),a("#myForm1").submit(function(t){var s=a("#inputfile1").val();if(s){var n=new FormData(a(this)[0]);console.log(n),o.ajaxFormFile(p.getApiUrl("UpActive1"),n).done(function(a){console.log(a),window.location.reload()})}else c.error("没有上传文件","上传失败");t.preventDefault()}),a("#date1").attr("value",o.getDateStr(-2)),a("#date2").attr("value",o.getDateStr(-1)),a("#zhe").val("1"),a("input[id='date1']").datepicker(),a("input[id='date2']").datepicker(),a(".nav-li span").click(function(){a(this).addClass("ck"),a(this).siblings().removeClass("ck")}),a(".li1").click(function(){a(".ribao1").show(),a(".jihua1").hide()}),a(".li2").click(function(){a(".ribao1").hide(),a(".jihua1").show()}),a(document).on("click",".tijiao",function(){if("liu_cun"==a(this).parents("span").attr("class").toString()){var t=a(this).closest("tr"),s=parseFloat(t.find(".editable-input").find("input").val()),n=parseFloat(t.find(".active_sum").text()),i=parseFloat(t.find(".acsum").text());l(t.find(".time").text(),"liucun",s,"",""),t.find(".liucun_rate").text((s/n*100).toFixed(2)+"%"),t.find(".liucun_cb").text((i/s).toFixed(2))}else if("page_active"==a(this).parents("span").attr("class").toString());else if("btn_active"==a(this).parents("span").attr("class").toString()){var e=a(this).closest("tr"),c=parseFloat(e.find(".editable-input").find("input").val()),d=parseInt(e.find(".page_active").text())+parseInt(e.find(".editable-input").find("input").val()),_=(parseFloat(e.find(".acsum").text())/d).toFixed(2),o=(d/parseFloat(e.find(".down_sum").text())*100).toFixed(2)+"%",p=(parseFloat(e.find(".liu_cun").find("a").text())/d*100).toFixed(2)+"%";l(e.find(".time").text(),"btn",c,"",""),e.find(".active_sum").text(d),e.find(".active_cb").text(_),e.find(".active_rate").text(o),e.find(".liucun_rate").text(p)}else if("re_point"==a(this).parents("span").attr("class").toString());else if("shuoming"==a(this).parents("span").attr("class").toString()){var r=a(this).closest("tr");parseFloat(r.find(".editable-input").find("textarea").val())}else if("ji_pageactive"==a(this).parents("span").attr("class").toString()){for(var v=a(this).closest("tr"),u=a(this).parents("p").attr("class"),g=a("#table2").find("."+u).find(".ji_pageactive1"),b=0,m=0;m<g.length;m++)b+=parseFloat(g.eq(m).text());b=b+parseInt(v.find(".editable-input").find("input").val())-parseFloat(a(this).parents(".ji_pageactive").find(".ji_pageactive1").text()),console.log(b);var j=parseFloat(v.find(".editable-input").find("input").val()),h=parseInt(v.find(".ji_btnactive").text())+parseInt(v.find(".editable-input").find("input").val()),f=(parseFloat(v.find(".ji_cost").text())/h).toFixed(2),w=(parseFloat(v.find(".ji_pagecost").text())/parseFloat(v.find(".editable-input").find("input").val())).toFixed(2);l(v.find(".date").text(),"h5",j,v.attr("title"),b),v.find(".ji_active").text(h),v.find(".ji_activecb").text(f),v.find(".ji_pageactivecb").text(w)}else"remark"==a(this).parents("span").attr("class").toString()}),a("#table1").tablesorter();var s=a("#date1").val().split("/"),i=a("#date2").val().split("/"),e=s[2]+"-"+s[0]+"-"+s[1],d=i[2]+"-"+i[0]+"-"+i[1];n(1,u.appid,d,e),a(".look-jihua").click(function(){var t=a("#date1").val().split("/"),s=a("#date2").val().split("/"),l=t[2]+"-"+t[0]+"-"+t[1],i=s[2]+"-"+s[0]+"-"+s[1];n("",u.appid,i,l),a(".zk").text("展开"),v=1}),a(".zk").click(function(){1==v?(a(this).text("合并"),a(".m1").hide(),a(".m2").show(),v=0):(a(this).text("展开"),a(".m2").hide(),a(".m1").show(),v=1)}),a(".out").click(function(){var t=a("#date1").val().split("/"),s=a("#date2").val().split("/"),n=t[2]+"-"+t[0]+"-"+t[1],l=s[2]+"-"+s[0]+"-"+s[1];o.formSubmit(p.getApiUrl("setOut"),{zhe:"",appid:u.appid,name:u.username,edate:l,sdate:n})})})}).call(t,s(83))},485:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<table cellspacing="30px" id="table1" class="tablesorter table-striped">\r\n    <thead>\r\n    <tr>\r\n        <th style="width: 100px;">日期/系统</th>\r\n        <th></th>\r\n        <th></th>\r\n    </tr>\r\n    </thead>\r\n    <tbody class="table1 list">\r\n    ';for(var j=0;j<data.length;j++)__p+='\r\n    <tr data-id="'+(null==(__t=data[j].date)?"":__t)+'">\r\n        <td style="width: 100px;"><p class="time">'+(null==(__t=data[j].date)?"":__t)+'</p><p class="m2" style="margin-top: 10px;">'+(null==(__t=data[j].device)?"":__t)+'</p></td>\r\n        <td>\r\n            <div class="row m1">\r\n                <div class="col-md-6 col-lg-4 text-danger"><span>留存/新购:</span><span class="liu_cun"><a href="#" class="liucun1" data-type="text">'+(null==(__t=data[j].liucun)?"":__t)+'</a></span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载成本:</span><span class="down_cb">'+(null==(__t=data[j].download_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">实际消费:</span><span class="acsum">'+(null==(__t=data[j].turecost)?"":__t)+'</span></div>\r\n            </div>\r\n            <div class="row m2">\r\n                <div class="col-md-6 col-lg-4"><span class="tong">展现:</span><span class="view">'+(null==(__t=data[j].view)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">返点:</span><span class="re_point">'+(null==(__t=data[j].fd)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">实际消费:</span><span class="acsum">'+(null==(__t=data[j].turecost)?"":__t)+'</span></div>\r\n\r\n                <div class="col-md-6 col-lg-4"><span class="tong">账户余额:</span><span class="some_remainder">'+(null==(__t=data[j].balance)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">账户消费:</span><span class="some_cost">'+(null==(__t=data[j].cost)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击单价:</span><span class="pv_dan">'+(null==(__t=data[j].click_price)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击:</span><span class="pv">'+(null==(__t=data[j].pv)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">留存/新购成本:</span><span class="liucun_cb">'+(null==(__t=data[j].liucun_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">备注:</span><span class="shuoming"><a href="#" class="beizhu" data-type="textarea">无</a></span></div>\r\n                <div class="col-md-6 col-lg-4 text-danger"><span>留存/新购:</span><span class="liu_cun"><a href="#" class="liucun1" data-type="text">'+(null==(__t=data[j].liucun)?"":__t)+'</a></span></div>\r\n            </div>\r\n        </td>\r\n        <td>\r\n            <div class="row m1">\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载数:</span><span class="down_sum">'+(null==(__t=data[j].download_total)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载率:</span><span class="down_rate">'+(null==(__t=data[j].download_rate+"%")?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">激活率:</span><span class="active_rate">'+(null==(__t=data[j].active_rate+"%")?"":__t)+'</span></div>\r\n            </div>\r\n            <div class="row m2">\r\n                <div class="col-md-6 col-lg-4 text-danger"><span>按钮总激活:</span><span class="btn_active"><a href="#" class="btn_active1" data-type="text">'+(null==(__t=data[j].button_active)?"":__t)+'</a></span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">H5总激活:</span><span class="page_active">'+(null==(__t=data[j].lp_active)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载数:</span><span class="down_sum">'+(null==(__t=data[j].download_total)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击率:</span><span class="pv_rate">'+(null==(__t=data[j].pv_rate+"%")?"":__t)+'</span></div>\r\n\r\n                <div class="col-md-6 col-lg-4"><span class="tong">激活数:</span><span class="active_sum">'+(null==(__t=data[j].active_total)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载率:</span><span class="down_rate">'+(null==(__t=data[j].download_rate+"%")?"":__t)+'</span></div>\r\n\r\n\r\n                <div class="col-md-6 col-lg-4"><span class="tong">下载成本:</span><span class="down_cb">'+(null==(__t=data[j].download_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">激活率:</span><span class="active_rate">'+(null==(__t=data[j].active_rate+"%")?"":__t)+'</span></div>\r\n\r\n\r\n                <div class="col-md-6 col-lg-4"><span class="tong">激活成本:</span><span class="active_cb">'+(null==(__t=data[j].active_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">真实激活成本:</span><span class="active_true_rate">'+(null==(__t=data[j].active_true_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">留存/新购率:</span><span class="liucun_rate">'+(null==(__t=data[j].liucun_rate+"%")?"":__t)+"</span></div>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    ";__p+="\r\n\r\n    </tbody>\r\n\r\n</table>"}return __p}},486:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<table cellspacing="30px" id="table2" class="tablesorter table-striped">\r\n    <thead>\r\n    <tr>\r\n        <th style="width: 100px;">日期/计划\r\n        </th>\r\n        <th></th>\r\n        <th></th>\r\n    </tr>\r\n    </thead>\r\n    <tbody class="table1 list1">\r\n    ';for(var i=0;i<data.length;i++)__p+='\r\n    <tr title="'+(null==(__t=data[i].jihuaid)?"":__t)+'">\r\n        <td style="width: 100px;"><p class="date">'+(null==(__t=data[i].date)?"":__t)+'</p><p class="tui_jihua well-sm m2">'+(null==(__t=data[i].name)?"":__t)+'</p></td>\r\n        <td>\r\n            <div class="row m1">\r\n                <div class="col-md-6 col-lg-4">'+(null==(__t=data[i].name)?"":__t)+'</div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">计划激活成本:</span><span class="ji_activecb">'+(null==(__t=data[i].jihua_active_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">H5激活成本:</span><span class="ji_pageactivecb">'+(null==(__t=data[i].h5_active_chengben)?"":__t)+'</span></div>\r\n            </div>\r\n            <div class="row m2">\r\n                <div class="col-md-6 col-lg-4"><span class="tong">计划消费:</span><span class="ji_cost">'+(null==(__t=data[i].cost)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">计划激活:</span><span class="ji_active">'+(null==(__t=data[i].jihua_active)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">计划激活成本:</span><span class="ji_activecb">'+(null==(__t=data[i].jihua_active_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">展现:</span><span class="ji_view">'+(null==(__t=data[i].view)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4 text-danger"><p class="els-'+(null==(__t=data[i].date)?"":__t)+'"><span>H5激活:</span><span class="ji_pageactive"><a href="#" class="ji_pageactive1" data-type="text">'+(null==(__t=data[i].h5_active)?"":__t)+'</a></span></p></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击单价:</span><span class="ji_pvdan">'+(null==(__t=data[i].click_price)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">H5消费:</span><span class="ji_pagecost">'+(null==(__t=data[i].h5_cost)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击:</span><span class="ji_pv">'+(null==(__t=data[i].click)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">H5激活成本:</span><span class="ji_pageactivecb">'+(null==(__t=data[i].h5_active_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">备注:</span><span class="remark"><a href="#" class="remark1" data-type="textarea">无</a></span></div>\r\n            </div>\r\n        </td>\r\n        <td>\r\n            <div class="row m1">\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮消费占比:</span><span class="ji_btncostb">'+(null==(__t=data[i].button_cost_rate+"%")?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮展现占比:</span><span class="ji_btnviewb">'+(null==(__t=data[i].button_view_rate+"%")?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">计划消费:</span><span class="ji_cost">'+(null==(__t=data[i].cost)?"":__t)+'</span></div>\r\n            </div>\r\n            <div class="row m2">\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮展现:</span><span class="ji_btnview">'+(null==(__t=data[i].view_button)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮点击:</span><span class="ji_btnpv">'+(null==(__t=data[i].click_button)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮消费:</span><span class="ji_btncost">'+(null==(__t=data[i].button_cost)?"":__t)+'</span> </div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮消费占比:</span><span class="ji_btncostb">'+(null==(__t=data[i].button_cost_rate+"%")?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮激活成本:</span><span class="ji_btnactivecb">'+(null==(__t=data[i].active_button_chengben)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮展现占比:</span><span class="ji_btnviewb">'+(null==(__t=data[i].button_view_rate+"%")?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">按钮激活:</span><span class="ji_btnactive">'+(null==(__t=data[i].active_button)?"":__t)+'</span></div>\r\n                <div class="col-md-6 col-lg-4"><span class="tong">点击率:</span><span class="ji_pvrate">'+(null==(__t=data[i].click_rate+"%")?"":__t)+"</span></div>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n    ";__p+="\r\n    </tbody>\r\n\r\n</table>"}return __p}}});