webpackJsonp([5],{248:function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<li style="margin-left: 30px;margin-top: 20px;" class="trends">\r\n    <span class="inx"></span>\r\n    <input type="text" class="date1 dp" placeholder="01/03/2017" />\r\n    <button class=\'btn-danger del\'>删除</button>\r\n</li>';return __p}},413:function(t,a){},0:function(t,a,e){(function(t){"use strict";function a(a,e){v=[];for(var n=t("#page-wrapper").find(".trends").length,l=0;l<n;l++)t(".trends").eq(l).find(".inx").text(l+1);t(".trends").each(function(){var n=t(this).find(".dp").val().split("/"),l=t(".time1").val()+":00",o=t(".time2").val()+":00",i=n[2]+"-"+n[0]+"-"+n[1]+" "+l,r=n[2]+"-"+n[0]+"-"+n[1]+" "+o;u.ajaxAsync(m.getApiUrl("getTime"),{appid:b.appid,date1:i,date2:r,type:a,planid:e}).done(function(t){v.push(t)})})}function n(t,a,e,n){var l=h.init(document.getElementById(t)),o={tooltip:{trigger:"axis",formatter:function(t){var a="";try{for(var e=0;e<t.length;e++)t[e].data&&(a+='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+t[e].color+'"></span>'+t[e].data.name+"："+t[e].data.value+"<br/>")}catch(t){console.log(t)}return a}},grid:{show:!0,top:10,borderWidth:"1",borderColor:"black"},legend:{x:"right",orient:"vertical",data:a},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,axisLabel:{interval:0},data:e,splitLine:{show:!0,lineStyle:{color:"#483d8b",type:"dashed",width:1}}}],yAxis:[{type:"value",position:"left",splitNumber:10,axisLabel:{show:!0,interval:"auto",margin:18,textStyle:{color:"#999999",fontFamily:"verdana",fontSize:12,fontStyle:"normal",fontWeight:"bold"}},splitLine:{show:!0,lineStyle:{color:"#483d8b",type:"dotted",width:0}}}],series:n};l.setOption(o),window.onresize=l.resize}function l(t,a,e){t.push({name:a,type:"line",line:"总量",data:e,symbol:"emptyCircle",symbolSize:3,smooth:!0,itemStyle:{normal:{lineStyle:{width:2}},emphasis:{label:{show:!1}}}})}function o(a,e,o){console.log(e),t("#dian").val("无");var i=(e[0].length,[]),r=[],d=[],s=[],h=[],p=[],_=[],m=[],v=[],b=[],f=[],y=[];t(".tb").html("");for(var w=0;w<e.length;w++)y.push((w+1).toString());try{for(var j=0;j<e.length;j++)for(var k=0;k<e[j].length;k++)e[j][k].dateTime1=u.dateFormat(e[j][k].dateTime,"yyyy-MM-dd hh:mm:ss"),e[j][k].dateTime=u.dateFormat(e[j][k].dateTime,"MM-dd hh:mm"),e[j][k].dian=u.dateFormat(e[j][k].dateTime,"hh"),e[j][k].cpc=e[j][k].cpc?e[j][k].cpc.toFixed(2):0,e[j][k].clickCount=e[j][k].clickCount?e[j][k].clickCount:0,e[j][k].showCount=e[j][k].showCount?e[j][k].showCount:0,e[j][k].spend=e[j][k].spend?e[j][k].spend:0,e[j][k].cpd=e[j][k].cpd?e[j][k].cpd.toFixed(2):0,e[j][k].download_total=e[j][k].download_total?e[j][k].download_total:0,e[j][k].api_count=e[j][k].api_count?e[j][k].api_count:0}catch(t){console.log(t.name+": "+t.message)}if(1==e.length)for(var C=0;C<e[0].length;C++)i.push(u.dateFormat(e[0][C].dateTime,"hh"));else for(var x=0;x<e[1].length;x++)i.push(u.dateFormat(e[1][x].dateTime,"hh"));g=e,t(".tb").html(c({data:e})),t("#jiahua_table").tablesorter(),t(".all_active").editable();for(var T=0;T<e.length;T++)switch(a){case"cpc":r=[];for(var S=0;S<e[T].length;S++)r.push({value:e[T][S].cpc,name:e[T][S].dateTime});l(m,y[T],r);break;case"展现":d=[];for(var F=0;F<e[T].length;F++)d.push({value:e[T][F].showCount,name:e[T][F].dateTime});l(m,y[T],d);break;case"点击":s=[];for(var A=0;A<e[T].length;A++)s.push({value:e[T][A].clickCount,name:e[T][A].dateTime});l(m,y[T],s);break;case"消费":h=[];for(var I=0;I<e[T].length;I++)h.push({value:e[T][I].spend,name:e[T][I].dateTime});l(m,y[T],h);break;case"激活":p=[];for(var M=0;M<e[T].length;M++)p.push({value:e[T][M].active,name:e[T][M].dateTime});l(m,y[T],p);break;case"激活成本":_=[];for(var D=0;D<e[T].length;D++)_.push({value:e[T][D].active_chengben,name:e[T][D].dateTime});l(m,y[T],_);break;case"cpd":v=[];for(var P=0;P<e[T].length;P++)v.push({value:e[T][P].cpd,name:e[T][P].dateTime});l(m,y[T],v);break;case"总下载":f=[];for(var z=0;z<e[T].length;z++)f.push({value:e[T][z].download_total,name:e[T][z].dateTime});l(m,y[T],f);break;case"API余额":b=[];for(var U=0;U<e[T].length;U++)b.push({value:e[T][U].api_count,name:e[T][U].dateTime});l(m,y[T],b)}n(o,y,i,m)}function i(a,e,o){console.log(e),t("#dian1").val("无");var i=(e[0].length,[]),r=[],d=[],c=[],h=[],p=[],_=[],m=[],v=[],b=[],f=[],y=[],w=[],j=[],k=[];t(".tb1").html("");for(var C=0;C<e.length;C++)k.push((C+1).toString());try{for(var x=0;x<e.length;x++)for(var T=0;T<e[x].length;T++)e[x][T].dateTime1=u.dateFormat(e[x][T].dateTime,"yyyy-MM-dd hh:mm:ss"),e[x][T].dateTime=u.dateFormat(e[x][T].dateTime,"MM-dd hh:mm"),e[x][T].dian=u.dateFormat(e[x][T].dateTime,"hh"),e[x][T].cpc=e[x][T].cpc?e[x][T].cpc.toFixed(2):0,e[x][T].clickCount=e[x][T].clickCount?e[x][T].clickCount:0,e[x][T].showCount=e[x][T].showCount?e[x][T].showCount:0,e[x][T].spend=e[x][T].spend?e[x][T].spend:0,e[x][T].total_btnClickCount=e[x][T].total_btnClickCount?e[x][T].total_btnClickCount:0,e[x][T].total_btnShowCount=e[x][T].total_btnShowCount?e[x][T].total_btnShowCount:0,e[x][T].total_btnSpend=e[x][T].total_btnSpend?e[x][T].total_btnSpend:0,e[x][T].cpd=e[x][T].cpd?e[x][T].cpd.toFixed(2):0,e[x][T].download_total=e[x][T].download_total?e[x][T].download_total:0,e[x][T].api_count=e[x][T].api_count?e[x][T].api_count:0}catch(t){console.log(t.name+": "+t.message)}if(1==e.length)for(var S=0;S<e[0].length;S++)i.push(u.dateFormat(e[0][S].dateTime,"hh"));else for(var F=0;F<e[1].length;F++)i.push(u.dateFormat(e[1][F].dateTime,"hh"));g=e,t(".tb1").html(s({data:e})),t("#zonglan_table").tablesorter(),t(".all_active1").editable();for(var A=0;A<e.length;A++)switch(a){case"cpc":r=[];for(var I=0;I<e[A].length;I++)r.push({value:e[A][I].cpc,name:e[A][I].dateTime});l(f,k[A],r);break;case"展现":d=[];for(var M=0;M<e[A].length;M++)d.push({value:e[A][M].showCount,name:e[A][M].dateTime});l(f,k[A],d);break;case"点击":c=[];for(var D=0;D<e[A].length;D++)c.push({value:e[A][D].clickCount,name:e[A][D].dateTime});l(f,k[A],c);break;case"消费":h=[];for(var P=0;P<e[A].length;P++)h.push({value:e[A][P].spend,name:e[A][P].dateTime});l(f,k[A],h);break;case"激活":p=[];for(var z=0;z<e[A].length;z++)p.push({value:e[A][z].active,name:e[A][z].dateTime});l(f,k[A],p);break;case"按钮点击":m=[];for(var U=0;U<e[A].length;U++)m.push({value:e[A][U].total_btnClickCount,name:e[A][U].dateTime});l(f,k[A],m);break;case"激活成本":_=[];for(var L=0;L<e[A].length;L++)_.push({value:e[A][L].active_chengben,name:e[A][L].dateTime});l(f,k[A],_);break;case"按钮展现":v=[];for(var N=0;N<e[A].length;N++)v.push({value:e[A][N].total_btnShowCount,name:e[A][N].dateTime});l(f,k[A],v);break;case"按钮消费":b=[];for(var G=0;G<e[A].length;G++)b.push({value:e[A][G].total_btnSpend,name:e[A][G].dateTime});l(f,k[A],b);break;case"cpd":y=[];for(var H=0;H<e[A].length;H++)y.push({value:e[A][H].cpd,name:e[A][H].dateTime});l(f,k[A],y);break;case"总下载":w=[];for(var O=0;O<e[A].length;O++)w.push({value:e[A][O].download_total,name:e[A][O].dateTime});l(f,k[A],w);break;case"API余额":j=[];for(var W=0;W<e[A].length;W++)j.push({value:e[A][W].api_count,name:e[A][W].dateTime});l(f,k[A],j)}n(o,k,i,f)}function r(a){for(var e=parseInt(t(".time1").find("option:selected").attr("title")),n=parseInt(t(".time2").find("option:selected").attr("title")),l="<option>无</option>",o=e;o<=n;o++)l+=o<10?"<option>0"+o+"</option>":"<option>"+o+"</option>";t(a).html(l)}e(85);var d=e(248),c=e(249),s=e(250);e(251);var h=e(252);e(351),e(361),e(395),e(399),e(400),e(238),e(406),e(413),e(243),e(417),e(422);var p=e(116),_=e(191),u=e(117),m=e(199),v=[],g=void 0,b=_.getCurrentAccount();p.on("account_change",function(){b=_.getCurrentAccount(),window.location.reload()}),t(function(){var e=u.dateFormat(u.getDateStr(-1),"yyyy-MM-dd");t(".time1,.time2").change(function(){r("#dian"),r("#dian1")}),r("#dian"),r("#dian1"),t("#dian").change(function(){for(var a=[],e=0;e<g.length;e++){a[e]=[];for(var n=0;n<g[e].length;n++)t(this).val()==g[e][n].dian&&a[e].push(g[e][n])}t(".tb").html(c({data:a})),t("#jiahua_table").tablesorter(),t(".all_active").editable(),console.log(a)}),t("#dian1").change(function(){for(var a=[],e=0;e<g.length;e++){a[e]=[];for(var n=0;n<g[e].length;n++)t(this).val()==g[e][n].dian&&a[e].push(g[e][n])}t(".tb1").html(s({data:a})),t("#zonglan_table").tablesorter(),t(".all_active1").editable(),console.log(a)}),u.ajaxAsync(m.getApiUrl("getGPlan"),{appid:b.appid,date:e}).done(function(a){for(var e="",n=0;n<a.length;n++)e+='<option value="'+a[n].campaignId+'">'+a[n].campaignName+"</option>";t(".time4").html(e)}),t(".nav-li span").click(function(){t(this).addClass("clink"),t(this).siblings().removeClass("clink")}),t(".li1").click(function(){t(".tol").show(),t(".tol1").hide(),a("all",""),console.log(v),o(t(".time3").val(),v,"d1"),o(t(".time31").val(),v,"d11"),o(t(".time32").val(),v,"d12")}),t(".li2").click(function(){t(".tol").hide(),t(".tol1").show(),a("plan",t(".time4").val()),console.log(v),i(t(".time5").val(),v,"d2")}),t(".date1").attr("value",u.getDateStr(-1)),t(".n1").attr("value",u.getDateStr(0)),t(".n2").attr("value",u.getDateStr(-1)),t(".dp").datepicker(),a("all",""),console.log(v),o(t(".time3").val(),v,"d1"),o(t(".time31").val(),v,"d11"),o(t(".time32").val(),v,"d12"),t(document).on("click",".del",function(){t(this).parent().remove()}),t(".tj").click(function(){t(".trends-all").append(d()),t(".dp").datepicker(),t(".date1").attr("value",u.getDateStr(-1)),t(".n1").attr("value",u.getDateStr(0))}),t(".ck").click(function(){switch(t(".nav-li>.clink").text()){case"本户":a("all",""),console.log(v),o(t(".time3").val(),v,"d1"),o(t(".time31").val(),v,"d11"),o(t(".time32").val(),v,"d12");break;case"计划":a("plan",t(".time4").val()),i(t(".time5").val(),v,"d2")}}),t(".time3").change(function(){o(t(this).val(),v,"d1")}),t(".time31").change(function(){o(t(this).val(),v,"d11")}),t(".time32").change(function(){o(t(this).val(),v,"d12")}),t(document).on("change",".time4",function(){console.log(t(this).val()),a("plan",t(this).val()),console.log(v),i(t(".time5").val(),v)}),t(".time5").change(function(){i(t(this).val(),v)}),t(document).on("click",".rise",function(){t(this).siblings("table").find("tbody").slideUp()}),t(document).on("click",".down",function(){t(this).siblings("table").find("tbody").slideDown()}),t(document).on("click",".tijiao",function(){if("td_active"==t(this).parents("td").attr("class").toString()){var a=t(this).parents("td"),e=a.data("time"),n=a.data("spend"),l=parseFloat(a.find(".editable-input").find("input").val());""==l||0==l?t(this).parents("td").siblings(".activecb").text("0"):t(this).parents("td").siblings(".activecb").text((n/l).toFixed(2)),u.ajax(m.getApiUrl("setHour"),{appid:b.appid,type:"all",date:e,active:l,planid:""}).done(function(t){console.log(t)})}else if("td_active1"==t(this).parents("td").attr("class").toString()){var o=t(this).parents("td"),i=o.data("time"),r=o.data("role"),d=o.data("spend"),c=parseFloat(o.find(".editable-input").find("input").val());""==c||0==c?t(this).parents("td").siblings(".activecb").text("0"):t(this).parents("td").siblings(".activecb").text((d/c).toFixed(2)),u.ajax(m.getApiUrl("setHour"),{appid:b.appid,type:"all",date:i,active:c,planid:r}).done(function(t){console.log(t)})}})})}).call(a,e(83))},249:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<div>\r\n    <span class="glyphicon glyphicon-chevron-down rise" style="color: rgb(0, 0, 0);cursor: pointer;">收起</span>\r\n    <span class="glyphicon glyphicon-chevron-up down" style="color:rgb(0, 0, 0);cursor: pointer;">展开</span>\r\n    <table class="tablesorter table" id="jiahua_table">\r\n        <thead>\r\n        <tr>\r\n            <th>时间</th>\r\n            <th>时间点</th>\r\n            <th>展现</th>\r\n            <th>点击</th>\r\n            <th>消费</th>\r\n            <th>总下载</th>\r\n            <th>CPD</th>\r\n            <th>激活</th>\r\n            <th>激活成本</th>\r\n            <th>CPC</th>\r\n            <th>API余额</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody class="list">\r\n        ';for(var i in data){__p+="\r\n        ";for(var j in data[i])__p+="\r\n        <tr>\r\n            <td>"+(null==(__t=data[i][j].dateTime)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].dian)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].showCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].clickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].spend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].download_total)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpd)?"":__t)+'</td>\r\n            <td data-time="'+(null==(__t=data[i][j].dateTime1)?"":__t)+'" data-spend="'+(null==(__t=data[i][j].total_spend)?"":__t)+'" class="td_active"><a href="#" class="all_active" data-type="text">'+(null==(__t=data[i][j].active)?"":__t)+'</a></td>\r\n            <td class="activecb">'+(null==(__t=data[i][j].active_chengben)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpc)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].api_count)?"":__t)+"</td>\r\n        </tr>\r\n        ";__p+="\r\n        "}__p+="\r\n        </tbody>\r\n    </table>\r\n</div>\r\n"}return __p}},250:function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<div>\r\n    <span class="glyphicon glyphicon-chevron-down rise" style="color: rgb(0, 0, 0);cursor: pointer;">收起</span>\r\n    <span class="glyphicon glyphicon-chevron-up down" style="color:rgb(0, 0, 0);cursor: pointer;">展开</span>\r\n    <table class="tablesorter table" id="zonglan_table">\r\n        <thead>\r\n        <tr>\r\n            <th>时间</th>\r\n            <th>时间点</th>\r\n            <th>Name</th>\r\n            <th>激活</th>\r\n            <th>激活成本</th>\r\n            <th>CPC</th>\r\n            <th>API余额</th>\r\n            <th>点击</th>\r\n            <th>展现</th>\r\n            <th>消费</th>\r\n            <th>按钮点击</th>\r\n            <th>按钮展现</th>\r\n            <th>按钮消费</th>\r\n            <th>CPD</th>\r\n            <th>总下载</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody class="list">\r\n        ';for(var i in data){__p+="\r\n        ";for(var j in data[i])__p+="\r\n        <tr>\r\n            <td>"+(null==(__t=data[i][j].dateTime)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].dian)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].name)?"":__t)+'</td>\r\n            <td data-role="'+(null==(__t=data[i][j].planId)?"":__t)+'" data-time="'+(null==(__t=data[i][j].dateTime1)?"":__t)+'"  data-spend="'+(null==(__t=data[i][j].total_spend)?"":__t)+'" class="td_active1"><a href="#" class="all_active1" data-type="text">'+(null==(__t=data[i][j].active)?"":__t)+'</a></td>\r\n            <td class="activecb">'+(null==(__t=data[i][j].active_chengben)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpc)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].api_count)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].clickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].showCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].spend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnClickCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnShowCount)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].total_btnSpend)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].cpd)?"":__t)+"</td>\r\n            <td>"+(null==(__t=data[i][j].download_total)?"":__t)+"</td>\r\n        </tr>\r\n        ";__p+="\r\n        "}__p+="\r\n        </tbody>\r\n    </table>\r\n</div>\r\n"}return __p}}});